<Page
    x:Class="PESYONG.Presentation.Views.PackagesPage"
    x:Name="RootPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:products="using:PESYONG.Domain.Entities.Meals.MealProduct"
    Background="#FAFAFA">

    <Grid Padding="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Available Packages" FontSize="32" FontWeight="Bold" Foreground="#F97316" Margin="0,0,0,20"/>

        <GridView Grid.Row="1" ItemsSource="{x:Bind ViewModel.AvailablePackages}" SelectionMode="None">
            <GridView.ItemTemplate>
                <DataTemplate x:DataType="products:MealProduct">
                    <Border Background="White" CornerRadius="12" Width="320" Margin="10" 
                            BorderThickness="1" BorderBrush="#E5E7EB" Shadow="{StaticResource CardShadow}">
                        <StackPanel Padding="20" Spacing="12">
                            <TextBlock Text="{x:Bind ProductName}" FontSize="20" FontWeight="Bold"/>
                            <TextBlock Text="{x:Bind ProductDescription}" FontSize="14" Foreground="Gray" 
                                       Height="45" TextWrapping="Wrap" TextTrimming="CharacterEllipsis"/>

                            <TextBlock Text="{x:Bind FinalPrice}" FontSize="24" Foreground="#F97316" FontWeight="Bold"/>

                            <Button Content="Add to Cart" 
                                    Background="#F97316" Foreground="White" 
                                    HorizontalAlignment="Stretch" Height="45" CornerRadius="8"
                                    Command="{Binding ElementName=RootPage, Path=ViewModel.AddToCartCommand}"
                                    CommandParameter="{x:Bind}"/>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>
    </Grid>
</Page>